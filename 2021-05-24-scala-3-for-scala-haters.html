<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    
    

    
    

    
    

    <title>Scala 3 for Scala Haters | Karl's Talks</title>
    <meta name="description" content="A talk directed toward the skeptics in my company, hoping to convince them of the merits of the improvements in Scala 3.">
    
        <meta name="keywords" content="Scala, Architalk">
    

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Scala 3 for Scala Haters | Karl's Talks">
    <meta name="twitter:description" content="A talk directed toward the skeptics in my company, hoping to convince them of the merits of the improvements in Scala 3.">
    <meta property="twitter:image:src" content="http://kbielefe.github.io/talks/assets/img/blog-image.png">
    
        <meta name="twitter:site" content="@softwarewhys">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="http://kbielefe.github.io/talks/2021-05-24-scala-3-for-scala-haters">
    <meta property="og:title" content="Scala 3 for Scala Haters | Karl's Talks">
    <meta property="og:image" content="http://kbielefe.github.io/talks/assets/img/blog-image.png">
    <meta property="og:description" content="A talk directed toward the skeptics in my company, hoping to convince them of the merits of the improvements in Scala 3.">
    <meta property="og:site_name" content="Karl's Talks">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/talks/favicon.ico" type="image/x-icon" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/talks/assets/img/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" />

    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="Karl's Talks">
    <meta name="msapplication-TileColor" content="#141414">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />
    
    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="#141414">

    <link rel="stylesheet" href="/talks/node_modules/reveal.js/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="/talks/node_modules/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="/talks/node_modules/reveal.js/dist/theme/black.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        				<section>
                    <h3>Scala 3 for Scala Haters</h3>
                    <p>Karl Bielefeldt</p>
                </section>
                <section>
                <section>
                  <h3>The syntax is too busy</h3>
                </section>
                <section>
                  <pre><code data-trim data-noescape class="scala">
object Main {
  def main(args: Array[String]): Unit = {
    val xs = List(-2, -1, 0, 1, 2)
    val ys = List(3, 4, 5, 6, 7)

    val result = for {
      x <- xs
      y <- ys
    } yield if (x > 0) x else y

    result.foreach(println)
  }
}</code></pre>
                </section>
                <section>
                  <pre><code data-trim data-noescape class="scala">
  @main def main =
    val xs = List(-2, -1, 0, 1, 2)
    val ys = List(3, 4, 5, 6, 7)

    val result = for
      x <- xs
      y <- ys
    yield if x > 0 then x else y

    result.foreach(println)</code></pre>
                </section>
                </section>
                <section>
                <section>
                  <pre><code data-trim data-noescape class="scala">
                  TypeIActuallyWant with Product with Serializable</code></pre>
                </section>
                <section>
                  <pre><code data-trim data-noescape class="scala">
                  TypeIActuallyWant</code></pre>
                  <aside class="notes">
                    Thanks to transparent traits, these extra traits can be
                    suppressed during type inference, removing mental clutter.
                  </aside>
                </section>
                </section>
                <section>
                <section>
                  <h3>Nulls can't be checked at compile time</h3>
                </section>
                <section>
<pre><code data-trim data-noescape class="scala">
-- [E007] Type Mismatch Error: Main.scala:2:23
2 |  val string: String = null
  |                       ^^^^
  |                       Found:    Null
  |                       Required: String</code></pre>
                </section>
                </section>
                <section>
                <section>
                  <h3>It doesn't make sense to check for equality between different types</h3>
                </section>
                <section>
<pre><code data-trim data-noescape class="scala">
-- Error: Main.scala:2:2
2 |  "string" == 42
  |  ^^^^^^^^^^^^^^
  |  Values of types String and Int cannot be compared
  |  with == or !=</code></pre>
                </section>
                </section>
                <section>
                <section>
                  <h3>Infix operators are inconsistent</h3>
                </section>
                <section>
<pre><code data-trim data-noescape class="scala">
-- Error: Main.scala:6:7
6 |  list combine other
  |       ^^^^^^^
  |Alphanumeric method combine is not declared `infix`;
  |it should not be used as infix operator.  The operation
  |can be rewritten automatically to `combine` under
  | -deprecation -rewrite. Or rewrite to method syntax
  |.combine(...) manually.</code></pre>
                </section>
                </section>
                <section>
                <section>
                  <h3>Why do I have to use 'new' sometimes and not other times?</h3>
                </section>
                <section>
<pre><code data-trim data-noescape class="scala">
class MyClass(arg: Int)

// In Scala 2, this gives error: not found: value MyClass
// Works fine in Scala 3
MyClass(1)</code></pre>
                </section>
                </section>
                <section>
                <section>
                  <h3>Extension methods are confusing</h3>
                </section>
                <section>
<pre><code data-trim data-noescape class="scala">
extension (c: Circle)
  def circumference: Double = c.radius * math.Pi * 2</code></pre>
                </section>
                </section>
                <section>
                <section>
                  <h3>This is going to be another Python 2 -> 3 incompatibility fiasco</h3>
                </section>
                <section>
                  <ul>
                    <li class="fragment">Always been compatible with Java</li>
                    <li class="fragment">Can use 3.0 libraries from 2.13 code</li>
                    <li class="fragment">Can use 2.13 libraries (except macros) from 3.0 code</li>
                    <li class="fragment">3.0 published libraries are discouraged from depending on 2.13 libraries</li>
                    <li class="fragment">The 2.13 standard library is the official 3.0 standard library</li>
                  </ul>
                </section>
                <section>
                  <ul>
                    <li class="fragment">Many new features are opt-in (-Yexplicit-nulls, -Ysafe-init, -language:strictEquality)</li>
                    <li class="fragment">Many removed features are only deprecated until 3.1+ (-source:future)</li>
                    <li class="fragment">-explain and -explain-types</li>
                    <li class="fragment">2.13 compiler supports -Xsource:3 to start migration</li>
                    <li class="fragment">3.0 compiler has <a href="https://docs.scala-lang.org/scala3/guides/migration/tooling-migration-mode.html">Migration mode with rewrite</a></li>
                    <li class="fragment"><a href="https://docs.scala-lang.org/scala3/guides/migration/compatibility-intro.html">Migration Guide</a></li>
                  </ul>
                </section>
                </section>
                <section>
                <section>
                  <h3>Many nice things for the Scala lovers</h3>
                </section>
                <section>
                  <ul>
                    <li class="fragment">Intersection types</li>
                    <li class="fragment">Union types</li>
                    <li class="fragment">Type lambdas</li>
                    <li class="fragment">Match types</li>
                    <li class="fragment">Better enums</li>
                    <li class="fragment">Easier type classes</li>
                    <li class="fragment">Better conversions</li>
                    <li class="fragment">Better macros</li>
                    <li class="fragment">Performance improvements such as opaque types, inline, and @threadUnsafe</li>
                  </ul>
                </section>
                </section>
                <section>
                  <h2>Questions?</h2>
                  <a href="https://dotty.epfl.ch/docs/">https://dotty.epfl.ch/docs/</a>
                </section>

      </div>
    </div>
    <script src="/talks/node_modules/reveal.js/dist/reveal.js"></script>
		<script src="/talks/node_modules/reveal.js/plugin/notes/notes.js"></script>
		<script src="/talks/node_modules/reveal.js/plugin/markdown/markdown.js"></script>
		<script src="/talks/node_modules/reveal.js/plugin/highlight/highlight.js"></script>
    <script>
      Reveal.initialize({
        totalTime: 15 * 60,
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>

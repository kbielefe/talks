<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    
    

    
    

    
    

    <title>Intro to Functional IO | Karl's Talks</title>
    <meta name="description" content="A talk I gave at HuntFunc to introduce IO types and what their benefits are.">
    
        <meta name="keywords" content="Scala, Functional-Programming, HuntFunc">
    

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Intro to Functional IO | Karl's Talks">
    <meta name="twitter:description" content="A talk I gave at HuntFunc to introduce IO types and what their benefits are.">
    <meta property="twitter:image:src" content="http://kbielefe.github.io/talks/assets/img/blog-image.png">
    
        <meta name="twitter:site" content="@softwarewhys">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="http://kbielefe.github.io/talks/2022-11-10-intro-to-functional-io">
    <meta property="og:title" content="Intro to Functional IO | Karl's Talks">
    <meta property="og:image" content="http://kbielefe.github.io/talks/assets/img/blog-image.png">
    <meta property="og:description" content="A talk I gave at HuntFunc to introduce IO types and what their benefits are.">
    <meta property="og:site_name" content="Karl's Talks">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/talks/favicon.ico" type="image/x-icon" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/talks/assets/img/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" />

    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="Karl's Talks">
    <meta name="msapplication-TileColor" content="#141414">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />
    
    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="#141414">

    <link rel="stylesheet" href="/talks/node_modules/reveal.js/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="/talks/node_modules/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="/talks/node_modules/reveal.js/dist/theme/black.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
  <h3>Intro to Functional IO</h3>
  <p>Karl Bielefeldt</p>
</section>
<section>
  <section>
    <h3>Have you ever seen a comment like this?</h3>
  </section>
  <section>
    Real programs need side effects, so I prefer a language that handles them well.
  </section>
  <section>
    <h4>Language A</h4>
    <ul>
      <li class="fragment">Can run side effects immediately where they are declared.</li>
      <li class="fragment">Can throw and catch exceptions.</li>
    </ul>
  </section>
  <section>
    <h4>Language B</h4>
    <ul>
      <li class="fragment">Can declare side effects separately from where they are run.</li>
      <li class="fragment">Can easily run side effects lazily.</li>
      <li class="fragment">Can store side effects in variables or collections.</li>
      <li class="fragment">Many ways to compose side effects concurrently.</li>
      <li class="fragment">Many alternatives for error handling.</li>
    </ul>
    <h4 class="fragment">Which language better handles side effects?</h4>
  </section>
</section>
<section>
  <section>
    <h4>Hello world</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
import cats.effect.{IO, IOApp}
import cats.implicits._

object HelloWorld extends IOApp.Simple {
  val run = IO.println("Hello, World!")
}</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
import Data.Either
import Control.Exception

main :: IO ()
main = putStrLn "Hello, World!"</code></pre>
  </section>
  <section>
    <h4>Get input</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
IO.readLine.map("Hello, " + _) >>= IO.println</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
("Hello, " ++) <$> getLine >>= putStrLn</code></pre>
  </section>
  <section>
    <h4>Another way to get input</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
for {
  name <- IO.readLine
  _    <- IO.println("Hello, " + name)
} yield ()</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
do
  name <- getLine
  putStrLn ("Hello, " ++ name)</code></pre>
  </section>
  <section>
    <h4>Get name from a web request</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
fetchName.map("Hello, " + _) >>= IO.println</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
("Hello, " ++) <$> fetchName >>= putStrLn</code></pre>
  </section>
  <section>
    <h4>Handle errors</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
fetchName
  .map("Hello, " + _)
  .handleError(_ => "Error fetching name") >>= IO.println</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
fromRight "Error fetching name" <$>
  tryAny (("Hello, " ++) <$> fetchName)
  >>= putStrLn

tryAny :: IO a -> IO (Either SomeException a)
tryAny = try</code></pre>
  </section>
  <section>
    <h4>Connect to first working server</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
val connections =
  List("server1", "server2", "server3").map(connect)
val run =
  findFirstSuccess(connections) >>= useConnection</code></pre>
<pre class="fragment"><code data-trim data-noescape class="scala">
def findFirstSuccess[A](xs: Iterable[IO[A]]): IO[A]</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
findFirstSuccess connections >>= useConnection
  where
  connections = connect <$> ["server1", "server2", "server3"]</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
findFirstSuccess :: [IO a] -> IO a</code></pre>
  </section>
  <section>
    <h4>Retry on error</h4>
<pre class="fragment"><code data-trim data-noescape class="scala">
retryUntilSuccess(connect("server1")) >>= useConnection</code></pre>
<pre class="fragment"><code data-trim data-noescape class="haskell">
retryUntilSuccess (connect "server1") >>= useConnection</code></pre>
  </section>
</section>
<section>
  <h4>Advent of Code</h4>
</section>

      </div>
    </div>
    <script src="/talks/node_modules/reveal.js/dist/reveal.js"></script>
		<script src="/talks/node_modules/reveal.js/plugin/notes/notes.js"></script>
		<script src="/talks/node_modules/reveal.js/plugin/markdown/markdown.js"></script>
		<script src="/talks/node_modules/reveal.js/plugin/highlight/highlight.js"></script>
    <script>
      Reveal.initialize({
        totalTime: 30 * 60,
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
